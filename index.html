My Final Project Page
=====================

Coconut Processor
=================

Background
----------

For ages now coconut oil has been made by the following process. First the coconut husks are removed by a plow or sometimes with other sharp tools. Afterwards the coconut shell is broken and the coconut water is extracted, so the shell with white coconut meat inside can be grinded on a traditional grinding tool which you can sit on. The grinded coconut meat is then  washed in the following way. A little bit of water is added to the grinded coconut meat and this meat is pressed together by hand multiple times to extract more of the coconut milk out of the mixture. Then the coconut meat is sifted out and the mixture gets poured in another vessel. Now again water is added to the meat and the process repeats itself for about 4 to even 6 times. After this the acquired water and coconut milk mixture is put in the fridge for about 24 hours. When it's taken out there is coconut cream above and water below. The coconut cream gets scooped out and cooked to coconut oil.  For my Codettes Bootcamp final project I will be making a Coconut Processor to help ease the process of grinding and extracting the coconutmilk .

What is it?
-----------

The coconut Processor is a food processor designed to handle (cut) bigger food portions like bigger coconut chunks. It has an option to grind and extract coconut milk through simultaneously cutting chunks and adding and mixing water to it to extract the needed milk to make coconut oil or to just use as coconut milk in various dishes. For this process the user can give an input of the amount of coconuts put in the machine and the coconut processor will add water accordingly and execute the process of grinding and washing for a few minutes.

The processor can also be used to just chop stuff through a pulsing option. Although there are many food processors that can do so already, the benefit of the coconut processor is that it can be used to chop up bigger and more food chunks due to its bigger and stronger blades.

So as noticeable the coconut processor can be used to ease the process of making coconut oil, but it can also be used to process other foods. As such, this coconut processor can be used as a handy tool by entrepreneurs in the coconut oil industry to increase the efficiency of the coconut oil making process, but also be used in any kitchen.

Initial Design
--------------

![](https://lh7-us.googleusercontent.com/7nW7nsG0U6ZppUI7RBSR59-8K-nrVNEnkZqi4sdG39W1ZMWC3L5bOR1-dqOgxctE15QlqokXEXzYCjKYzuwx1V6dDeWZZndR-MTpmWZL3hyLVcEoEhur-RSgdXtt8C8EGv8xtgazPSSJLALhPTm4VNE)
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Who will use it?
----------------

  ![](https://lh7-us.googleusercontent.com/ScLbjmaXPahWIwQUV4whuNpubVrigWa1mxQAAyni6ZQvLJPnwrSo1bvOMWjZ_awgjVthc6LXCVBTeL_mRlcIJ_ZZK0vCoEbFm_YCXiSwUKZMFk3nUW7N8lobDLpDBHcA04x6tQ-4wnzf24JCsB4V2QQ) ![](https://lh7-us.googleusercontent.com/W_Dc0WQ21RB8qcJ0BMd4DdledwMPlz5bqMKnHHB3sjfPr78K2k3rlueSUnUAvTRhFG_j9i7BXqg453ltQsoUUYR3C7opPkrkZMRdUIVYqzIKsC98zo4cy9Oj1D5hN5qjY8PQgkc1wV_K5lYAklHlXs0)

-Small business owners                                    -General public

What does it do?
----------------

Based on the input of the amount of coconuts put in the processor, it will fill water to a certain level depending on the amount of coconuts put in. Afterwards it will start rotating and simultaneously grinding the coconut meat and extracting the coconut milk. This will continue for a certain amount of time so that most of the coconu'ts essence is extracted in the water. Afterwards the mixture can be obtained in a vessel through an outlet pipe. The cutting blades and the grinded coconut meat can be removed out of the processor and the last drops of coconut mixture can be extracted by pressing it out through a normal sift.  Now the mixture is ready to go in the fridge. There will also be an emergency button to stop the process at any time. A pulsing option will also be added to simply only grind the coconut meat to use in dishes.

Initial architecture
--------------------

![](https://lh7-us.googleusercontent.com/gneI1whB-wagPcyTQjF37L81hfh3WuoAE3NJsX9TwaxdkOkGZcc3YX5kBjvCx5AsjZLDFBBGcjSFbZ5M3f-e-oOV8B2SCVC3RMuGSzbFU59mwtYJYF1NRVFscTp21vPHXAoeh472JGibEdYVKcf96lI)

Key features
------------

-Automated process

-Controlling the processor through the internet

-Pulsing option

-strong and efficient self-designed cutting blades

Weeks worked on final project
-----------------------------

Week 1=> Made a pitch on why I thought this project was one worth working on

<https://docs.google.com/presentation/d/16XX_MtjOQAT2Ch_5FpO-Sebqca6GcBT4/edit?usp=drivesdk&ouid=101677614751058524121&rtpof=true&sd=true>

Week 2=> Made a 3d design of how the processor will be built and look in tinkercad

![](https://lh7-us.googleusercontent.com/Jt4VB6o4zxzqsiDPNy_-roUspw7iyWK23n6Tc5bXjNYsgdf2E1LaJdMjTgVvSIHIkMm7HK2SBNrD4J1TzhgfXYoM1Nt7E_GqbsfzScUAWdJpfae8JRySBbyVz6OhCytlE54xq97CKvpx6T7VScbfpX8)

And made a list of the parts I would need for the project: <https://drive.google.com/file/d/14mD-irRzjS7z1TAfMZ6aHMAiRfpSkCtN/view?usp=drivesdk>

Week 3=> Started coding and building the circuit so that user can select amount of coconuts put in the processor and showing this data on lcdi2c

Week 4=> Created local dashboard layout and design through html and scc coding and made a logo:

![](https://lh7-us.googleusercontent.com/BW2aqz5zgqWk3ejVPBBAK3I1JoSBUa_aCsqUZlz5dVkJjOCWaSKeuQ8m7A9z2VYD2-Tj1mOxdM5MAW7YtOd2SsnBUvBagVjgn4ZoooZ7nHG9jo8-V6vwwcTIHij31E9wYQYdY2dJMT7GwXIf57R5M-c) ![](https://lh7-us.googleusercontent.com/4lLXaE2MTV6Di3NIwycY_nWa9kuV_fckeXGjLAKK4pNY6_0e9O_jVYxSSKf_qUVoqg7H7RmsHuFGqyw5oWOXbac_cQZGSWzXvXSSMGR8RwDddQ2hUPzStUpIeQ3PF2ZPPB-XUZZ1xag3a5dRFjX02E8)

![](https://lh7-us.googleusercontent.com/G7sCaiNUw83rzHRBbFMSAvOkXouT86dJE6jeRV-QfejYTst_rJ7FVz-KOFyayIyrL4ZitwzlI5ctNU6MXUW98jgzhtsPM5PsTfs69bQba2SjqrYQODFFUL3Z8AtULvr75-2wUfdk4WeBtXqFjoBqf1U)  ![](https://lh7-us.googleusercontent.com/qbLbFGTan3Nf66hfGHwOdtD8R6q2msI7_2Dg1sbijzvlaQQgP6-234rn6cQr3_IX4PayS8AnuIKJQMgxfXW375lTOhC7j07Hdp7STt25V4yzk5mCZfuyoZit7hGuwg6DLtoLLVJnNjdR_BsZcFMhWjU)

Week 5=> Worked on creating final project page

Week 6: Worked on building, coding and simulating the circuit with all components accept flow meter and solenoid valve in tinkercad:

![](https://lh7-us.googleusercontent.com/T6RaRkkJbJA0EZmFdugi7aGgnioukNqbuo6A9zOsJLKLmX6VMorw27e3m2filJzjpUsK6-J_VCpSCHXDEuMP8Mqn9pKYJ-Qnwg2eZICbsYhyk0l-3TK0lNJ70M_4YPyg3ODqy0hCBrqhgvGO_HdTLQA)

Tinkercad link: <https://www.tinkercad.com/things/g1VNEQyQRSo-coconutprocessor-code>

Week 7=> Worked on prototype

![](https://lh7-us.googleusercontent.com/Gi-8gct_tpj4Il3n3sejHbj-903TqoBdTp9Lc_xO8CumU7JWQ1_XAEYRUCE3If5lHXMsrjGZaDqa5W3i1Sbv-MFi4fo7QjZaTyPiJaUi0-o2AerJ_YGNvp8Td-MLf17H8zXmOz4aH4afBeev-xbRWkQ) ![](https://lh7-us.googleusercontent.com/dgMTFT8iyXM5iZgR9X3CALSqYeNb0QBmWASJYbAkpzU8q-e5ITBGCokrTYq_3xIIHZ9SRFbF0-mEmxEaaIN7hadWZIi1VmHXhFBXzOv6ALW-yA1nTXkn1y6tvytrX8vlH6YKNe96f8Ev6stwUK-GMPY)

Created a construction so dc                                     Also created something to hold

motor axis wouldn't be in                                           back water in the space the 

direct contact with the water.                                     mixing would take place.

![](https://lh7-us.googleusercontent.com/NZqImGcIlInu1VQw8RaEfNoQXnJg0HAb92DkD6rhIvaLt33DnuVOKa-s1nuhtHDrVqgt15bxgj57xfG7rAtzNpMKXeIQY4ywEOuuZG0k_KE0CHx3Focube7dFweWjB1T6xiu6nv8-DJVkpBo-JGnafA) ![](https://lh7-us.googleusercontent.com/qBu03DUOus4oKd1zLB9klswZHVVNg_vtgMdy4fxLAAhWGrjHFZVsQas6vTQLiv9MpPY2PriB5Q4zAVOwixMpXCBnZiR6xUIenMv0Sjb4p1twDWCQHDIkpwbO8llInQ9WEWLObQy1kQ6Dx6aX7CXcBm4)![](https://lh7-us.googleusercontent.com/4zhoQqFTEWG6-TY70UZUsCm_bNshKvoqqJfIW4NSOQKdhE6wOWOn1Mm-5SWLq7K7WdSdFr26N-Fdq3g5QsSDXr3MUDgjyg7pawIaz7EYSa1a6LyTQ4UeXLFZLdhdHTmBMpedSKUrGsgr4OdlSAcubI4)![](https://lh7-us.googleusercontent.com/owJ-m2FEBO1WWxXGWrHMx1rKApYFNdLT89gAqLcYVq9VaR9ztjh1QlOYYp_SVYdegKVml8dmCrjOmCeI2EBLTLGsaPkvqaWU_DDRIR2wsaFR49uKku5R7LtipyIAdeWdaMBYeJB7M5ujzPCGw8gHNFs)
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Note: Due to friction the dc motor axis wouldn't rotate, so the holes of the butter bucket and the pink water holding part had to be made bigger. Now water can leak right through the holes to the electronics.

Week 8 => Tried to locally on esp32

![](https://lh7-us.googleusercontent.com/iDWTbPwmxpQVxlQSjro2FSvmTm_zE1IYadvbIVlo33PWexL0OOQZfCd49VXo2DQIeF6BzTZGb9pBDh_qXo2DJVLpGVWs3EfN6HDLzBqq__YMhtGDsnD-fQdV6oJPX2IjbDkPT-pLy3K4tpzufAiJda8)![](https://lh7-us.googleusercontent.com/SEge3n5wokEQJ4oXdyy8E7XaGEU00VKWrnhpdAcZOv2Jf6HNKhzrkg84QAOrtTNtKX0i1uV4JvBSe8UDjNiBtXm3zhV2qQnhMr0olf8CTtjB-nBkBz7bNztr68ALiJHkUTdZ6mORn7BaQcLyvsVRGLU)

Code: 

|

#include <WiFi.h>\
#include <ESPAsyncWebServer.h>\
#include <SPIFFS.h>

int pushbutton = 12;\
int motor1input1 = 2;\
int motor1input2 = 4;\
int motor1enable = 13;

const  char *ssid = "HUAWEI-2.4G-yzad"; // Change this to your WiFi SSID\
const  char *password = "SkNH972g"; // Change this to your WiFi password

AsyncWebServer server(80);

void  setup() {\
 Serial.begin(115200);\
 pinMode(pushbutton, INPUT);\
 pinMode(motor1input1, OUTPUT);\
 pinMode(motor1input2, OUTPUT);\
 analogWrite(motor1enable, 200);

 if(!SPIFFS.begin(true)){\
 Serial.println("An Error has occurred while mounting SPIFFS");\
 return;\
  }

 WiFi.begin(ssid, password);\
 while (WiFi.status() != WL_CONNECTED) {\
 delay(1000);\
 Serial.println("Connecting to WiFi..");\
  }\
 Serial.println(WiFi.localIP());

  server.on("/", HTTP_GET, [](AsyncWebServerRequest *request){\
 if (digitalRead(pushbutton) == HIGH) {\
      motorforward();\
} else {\
      motorstop();\
    }\
request->send(SPIFFS, "/index.html", String(), false);\
  });

  server.on("/style.css", HTTP_GET, [](AsyncWebServerRequest *request){\
request->send(SPIFFS, "/style.css", "text/css");\
  });

  server.begin();\
}\
void motorforward()\
{\
 analogWrite(motor1enable, 255);\
 digitalWrite(motor1input1, HIGH);\
 digitalWrite(motor1input2, LOW);\
 Serial.print("Forward");\
}

void motorstop()\
{\
 analogWrite(motor1enable, 0);\
 digitalWrite(motor1input1, LOW);\
 digitalWrite(motor1input2, LOW);\
 Serial.print("Stop");\
}

void  loop()\
{\
 if (digitalRead(pushbutton) == HIGH)\
  {\
    motorforward();\
 Serial.println("ON");\
  }\
 else\
  {\
    motorstop();\
 Serial.println("OFF");\
  }\
}

 |

This code is stille incomplete. After sketch data uploading and clicking the EN button on the esp32, I get a link to the html page. But the page doesn't have colors, pictures and doesnt function.

Also tried testing the flow sensor:

![](https://lh7-us.googleusercontent.com/zJNN_h6EHrIo8PAKDON0KCPj-tQyah481wOFDammiq0Mc9m27Zj88Rykv2uyAThvX0GjEjxZDvoRFaBn4GVY-YU7viJ9pMbilu1dEeP_-oVK3xIu4E3IZ9EnkeHReMDzzQwotaddu0w3zk0KsWNDy5A)  ![](https://lh7-us.googleusercontent.com/0PT68Phluo8rfpIR7QTbLwaSS0rGwEaEd9Z8LisoL-uo1RODQlTa-tLySpAaTirNtjF9j-kTyU4PUvkekBDv2BU01PQHuwxahjd8oooKzpycnUd9fmWSDs4pMELF26hKmLGWfo5JPWc8Ziapopt-s0A)

![](https://lh7-us.googleusercontent.com/xb7BDaR1-isTTTDQQ2A2j8JnelyeWRKmVHWU7_vCoNba5o35rsZIcuNLEGZXyCWZaD34pr7QCxNs_1MrQGxj20OT4NHcfvP-aS1O1kjF1G0NRxvV6q-cn1bViU_0IrWX3UOJd6Mi4bZ3y1jA-9k1GDA)

Code:

|

/*\
Liquid flow rate sensor -DIYhacking.com Arvind Sanjeev

Measure the liquid/water flow rate using this code.\
Connect Vcc and Gnd of sensor to arduino, and the\
signal line to arduino digital pin 2.

*/

byte statusLed    = 13;

byte sensorInterrupt = 0; // 0 = digital pin 2\
byte sensorPin       = 2;

// The hall-effect flow sensor outputs approximately 4.5 pulses per second per\
// litre/minute of flow.\
float calibrationFactor = 4.5;

volatile  byte pulseCount;

float flowRate;\
unsigned  int flowMilliLitres;\
unsigned  long totalMilliLitres;

unsigned  long oldTime;

void  setup()\
{

 // Initialize a serial connection for reporting values to the host\
 Serial.begin(9600);

 // Set up the status LED line as an output\
 pinMode(statusLed, OUTPUT);\
 digitalWrite(statusLed, HIGH); // We have an active-low LED attached

 pinMode(sensorPin, INPUT);\
 digitalWrite(sensorPin, HIGH);

pulseCount        = 0;\
flowRate          = 0.0;\
flowMilliLitres   = 0;\
totalMilliLitres  = 0;\
oldTime           = 0;

 // The Hall-effect sensor is connected to pin 2 which uses interrupt 0.\
 // Configured to trigger on a FALLING state change (transition from HIGH\
 // state to LOW state)\
 attachInterrupt(sensorInterrupt, pulseCounter, FALLING);\
}

/**\
* Main program loop\
*/\
void  loop()\
{

 if((millis() - oldTime) > 1000) // Only process counters once per second\
  {\
 // Disable the interrupt while calculating flow rate and sending the value to\
 // the host\
 detachInterrupt(sensorInterrupt);

 // Because this loop may not complete in exactly 1 second intervals we calculate\
 // the number of milliseconds that have passed since the last execution and use\
 // that to scale the output. We also apply the calibrationFactor to scale the output\
 // based on the number of pulses per second per units of measure (litres/minute in\
 // this case) coming from the sensor.\
    flowRate = ((1000.0 / (millis() - oldTime)) * pulseCount) / calibrationFactor;

 // Note the time this processing pass was executed. Note that because we've\
 // disabled interrupts the millis() function won't actually be incrementing right\
 // at this point, but it will still return the value it was set to just before\
 // interrupts went away.\
oldTime = millis();

 // Divide the flow rate in litres/minute by 60 to determine how many litres have\
 // passed through the sensor in this 1 second interval, then multiply by 1000 to\
 // convert to millilitres.\
flowMilliLitres = (flowRate / 60) * 1000;

 // Add the millilitres passed in this second to the cumulative total\
    totalMilliLitres += flowMilliLitres;

 unsigned  int frac;

 // Print the flow rate for this second in litres / minute\
 Serial.print("Flow rate: ");\
 Serial.print(int(flowRate)); // Print the integer part of the variable\
 Serial.print("L/min");\
 Serial.print("\t");  // Print tab space

 // Print the cumulative total of litres flowed since starting\
 Serial.print("Output Liquid Quantity: ");\
 Serial.print(totalMilliLitres);\
 Serial.println("mL");\
 Serial.print("\t");  // Print tab space\
Serial.print(totalMilliLitres/1000);\
Serial.print("L");

 // Reset the pulse counter so we can start incrementing again\
pulseCount = 0;

 // Enable the interrupt again now that we've finished sending output\
 attachInterrupt(sensorInterrupt, pulseCounter, FALLING);\
  }\
}

/*\
Insterrupt Service Routine\
*/\
void pulseCounter()\
{\
 // Increment the pulse counter\
  pulseCount++;\
}

 |

 Note: After uploading this code I saw nothing in the serial monitor even when there was water flowing through the sensor. I will test this once more with extra serialprints.

Bill of material
----------------

|

Amount

 |

Material

 |

costs

 |
|

1

 |

pushbutton

 |

$0.01

 |
|

2

 |

slide switch

 |

$0.01

 |
|

1

 |

L298n motor driver

 |

$0.50

 |
|

1

 |

5V dc motor

 |

$1.00

 |
|

1

 |

lcdi2c

 |

$1.50

 |
|

1

 |

resistor

 |

$0.01

 |
|

1

 |

Esp32 board

 |

$3.00

 |
|

1

 |

Esp32 board extender

 |

$3.00

 |
|

1

 |

Breadboard small

 |

$0.50

 |
|

1

 |

Solenoid valve

 |

$15.18

 |
|

1

 |

Flow meter sensor

 |

$6.49

 |
|

Total:

 |

$31.2

 |
